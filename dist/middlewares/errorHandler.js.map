{"version":3,"sources":["../../src/middlewares/errorHandler.js"],"names":["errorHandler","err","req","res","next","console","log","locals","message","error","app","get","logger","status","originalUrl","method","ip","json"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,YAAY,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,KAAyB;AAC5C;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8CL,GAA9C;AACAE,EAAAA,GAAG,CAACI,MAAJ,CAAWC,OAAX,GAAqBP,GAAG,CAACO,OAAzB;AACAL,EAAAA,GAAG,CAACI,MAAJ,CAAWE,KAAX,GAAmBP,GAAG,CAACQ,GAAJ,CAAQC,GAAR,CAAY,KAAZ,MAAuB,aAAvB,GAAuCV,GAAvC,GAA6C,EAAhE;;AACAW,kBAAOH,KAAP,CACG,GAAER,GAAG,CAACY,MAAJ,IAAc,GAAI,MAAKZ,GAAG,CAACO,OAAQ,MAAKN,GAAG,CAACY,WAAY,MAAKZ,GAAG,CAACa,MAAO,MAAKb,GAAG,CAACc,EAAG,EADzF;;AAGAb,EAAAA,GAAG,CAACU,MAAJ,CAAWZ,GAAG,CAACY,MAAJ,IAAc,GAAzB,EAA8BI,IAA9B,CAAmC;AAAEJ,IAAAA,MAAM,EAAEZ,GAAG,CAACY,MAAd;AAAsBL,IAAAA,OAAO,EAAEP,GAAG,CAACO;AAAnC,GAAnC;AACD,CATD;;eAWeR,Y","sourcesContent":["import logger from 'utils/logger';\n\nconst errorHandler = (err, req, res, next) => {\n  // set locals, only providing error in development\n  console.log('******** Global handler ******', err);\n  res.locals.message = err.message;\n  res.locals.error = req.app.get('env') === 'development' ? err : {};\n  logger.error(\n    `${err.status || 500} - ${err.message} - ${req.originalUrl} - ${req.method} - ${req.ip}`,\n  );\n  res.status(err.status || 500).json({ status: err.status, message: err.message });\n};\n\nexport default errorHandler;\n"],"file":"errorHandler.js"}